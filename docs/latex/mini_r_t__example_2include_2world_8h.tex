\doxysection{/\+Users/thibault/kdrive/1-\/\+PROJECTS/\+P-\/42/mini\+RT/mini\+RT\+\_\+example/include/world.h File Reference}
\hypertarget{mini_r_t__example_2include_2world_8h}{}\label{mini_r_t__example_2include_2world_8h}\index{/Users/thibault/kdrive/1-\/PROJECTS/P-\/42/miniRT/miniRT\_example/include/world.h@{/Users/thibault/kdrive/1-\/PROJECTS/P-\/42/miniRT/miniRT\_example/include/world.h}}
{\ttfamily \#include "{}lights.\+h"{}}\newline
{\ttfamily \#include "{}shapes.\+h"{}}\newline
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structs__world}{s\+\_\+world}}
\begin{DoxyCompactList}\small\item\em This struct contains everything related to the building of a ray tracing\textquotesingle{}s world. The world has objects (or shapes), point lights and an ambient color. Together, these elements makes the scene rendering possible. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structs__comps}{s\+\_\+comps}}
\begin{DoxyCompactList}\small\item\em This structure of type t\+\_\+comps stores some precomputed values that are useful when working intersections and their color calculations. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{structs__world}{s\+\_\+world}} \mbox{\hyperlink{mini_r_t__example_2include_2world_8h_ab408c1e2372d8e7b5ccd0c131ea9ee84}{t\+\_\+world}}
\begin{DoxyCompactList}\small\item\em This struct contains everything related to the building of a ray tracing\textquotesingle{}s world. The world has objects (or shapes), point lights and an ambient color. Together, these elements makes the scene rendering possible. \end{DoxyCompactList}\item 
typedef struct \mbox{\hyperlink{structs__comps}{s\+\_\+comps}} \mbox{\hyperlink{mini_r_t__example_2include_2world_8h_ad204d3c7e16fe0025d1e160b35771137}{t\+\_\+comps}}
\begin{DoxyCompactList}\small\item\em This structure of type t\+\_\+comps stores some precomputed values that are useful when working intersections and their color calculations. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{mini_r_t__example_2include_2shapes_8h_a5adba0a1600843208f0bd925f29b928d}{t\+\_\+hit}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{mini_r_t__example_2include_2world_8h_a9222f5636b32b8430b77b08472fc6588}{intersect\+\_\+world}} (\mbox{\hyperlink{mini_r_t__example_2include_2world_8h_ab408c1e2372d8e7b5ccd0c131ea9ee84}{t\+\_\+world}} \texorpdfstring{$\ast$}{*}world, \mbox{\hyperlink{rays_8h_a249ca701a99a7da39d83c6270adac2ec}{t\+\_\+ray}} ray)
\begin{DoxyCompactList}\small\item\em Finds all intersections between a ray and all objects in the world. \end{DoxyCompactList}\item 
\mbox{\hyperlink{mini_r_t__example_2include_2world_8h_ad204d3c7e16fe0025d1e160b35771137}{t\+\_\+comps}} \mbox{\hyperlink{mini_r_t__example_2include_2world_8h_a959cca0274181803945cc578f51b5eb2}{prepare\+\_\+computations}} (\mbox{\hyperlink{mini_r_t__example_2include_2shapes_8h_a5adba0a1600843208f0bd925f29b928d}{t\+\_\+hit}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{mini_r_t__example_2include_2shapes_8h_af8649ef52b38cccf4b27bfd57ec435dc}{intersection}}, \mbox{\hyperlink{rays_8h_a249ca701a99a7da39d83c6270adac2ec}{t\+\_\+ray}} ray)
\begin{DoxyCompactList}\small\item\em Precomputes information related to an intersection. \end{DoxyCompactList}\item 
\mbox{\hyperlink{tuples_8h_a43da74144dd0bc8864f91dfed33bd6bf}{t\+\_\+color}} \mbox{\hyperlink{mini_r_t__example_2include_2world_8h_aed1f05fecae5eaee013894b0ba6c310d}{shade\+\_\+hit}} (\mbox{\hyperlink{mini_r_t__example_2include_2world_8h_ab408c1e2372d8e7b5ccd0c131ea9ee84}{t\+\_\+world}} world, \mbox{\hyperlink{mini_r_t__example_2include_2world_8h_ad204d3c7e16fe0025d1e160b35771137}{t\+\_\+comps}} comps)
\begin{DoxyCompactList}\small\item\em Computes the color at an intersection in the given world. \end{DoxyCompactList}\item 
\mbox{\hyperlink{tuples_8h_a43da74144dd0bc8864f91dfed33bd6bf}{t\+\_\+color}} \mbox{\hyperlink{mini_r_t__example_2include_2world_8h_ab974bbbb3e98ad040051bf4aca65af66}{color\+\_\+at}} (\mbox{\hyperlink{mini_r_t__example_2include_2world_8h_ab408c1e2372d8e7b5ccd0c131ea9ee84}{t\+\_\+world}} world, \mbox{\hyperlink{rays_8h_a249ca701a99a7da39d83c6270adac2ec}{t\+\_\+ray}} ray)
\begin{DoxyCompactList}\small\item\em Computes the color at the intersection of a given ray with a world. \end{DoxyCompactList}\item 
t\+\_\+bool \mbox{\hyperlink{mini_r_t__example_2include_2world_8h_a8be566b6f6f02856e9608764b4a77e44}{is\+\_\+shadowed}} (\mbox{\hyperlink{mini_r_t__example_2include_2world_8h_ab408c1e2372d8e7b5ccd0c131ea9ee84}{t\+\_\+world}} \texorpdfstring{$\ast$}{*}world, \mbox{\hyperlink{tuples_8h_a499dd2c8e66cb9e3d0f581a58df46b40}{t\+\_\+point}} \mbox{\hyperlink{tuples_8h_abd0ad1d76c573e7816318b2d5a9efe64}{point}}, int index)
\begin{DoxyCompactList}\small\item\em Determines whether a point in a world is in shadow or not. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Typedef Documentation}
\Hypertarget{mini_r_t__example_2include_2world_8h_ad204d3c7e16fe0025d1e160b35771137}\index{world.h@{world.h}!t\_comps@{t\_comps}}
\index{t\_comps@{t\_comps}!world.h@{world.h}}
\doxysubsubsection{\texorpdfstring{t\_comps}{t\_comps}}
{\footnotesize\ttfamily \label{mini_r_t__example_2include_2world_8h_ad204d3c7e16fe0025d1e160b35771137} 
typedef struct \mbox{\hyperlink{structs__comps}{s\+\_\+comps}} \mbox{\hyperlink{mini_r_t__example_2include_2world_8h_ad204d3c7e16fe0025d1e160b35771137}{t\+\_\+comps}}}



This structure of type t\+\_\+comps stores some precomputed values that are useful when working intersections and their color calculations. 


\begin{DoxyParams}{Parameters}
{\em t} & Stores the intersection value at a given point, if any. \\
\hline
{\em object} & Stores shape\textquotesingle{}s data. \\
\hline
{\em point} & Stores a point to be used as referenece. \\
\hline
{\em sight} & Stores the human\textquotesingle{}s eye data used as reference. \\
\hline
{\em inside} & Stores TRUE or FALSE in regards to whether a hit occurs inside the object (or shape). If hit is inside the shape, the value is TRUE. Otherwise, it\textquotesingle{}s is FALSE. It works together with the field over\+\_\+point to fix a problem called acne. \\
\hline
{\em over\+\_\+point} & This field avoids the effect called acne, which happens because computers cannot represent floating points very well. Because of that, sometimes the calculation of the ray-\/surface intersection will result in a point of intersection that lies beneath the actual surface of a given shape. This field sets a margin of error. \\
\hline
\end{DoxyParams}
\Hypertarget{mini_r_t__example_2include_2world_8h_ab408c1e2372d8e7b5ccd0c131ea9ee84}\index{world.h@{world.h}!t\_world@{t\_world}}
\index{t\_world@{t\_world}!world.h@{world.h}}
\doxysubsubsection{\texorpdfstring{t\_world}{t\_world}}
{\footnotesize\ttfamily \label{mini_r_t__example_2include_2world_8h_ab408c1e2372d8e7b5ccd0c131ea9ee84} 
typedef struct \mbox{\hyperlink{structs__world}{s\+\_\+world}} \mbox{\hyperlink{mini_r_t__example_2include_2world_8h_ab408c1e2372d8e7b5ccd0c131ea9ee84}{t\+\_\+world}}}



This struct contains everything related to the building of a ray tracing\textquotesingle{}s world. The world has objects (or shapes), point lights and an ambient color. Together, these elements makes the scene rendering possible. 


\begin{DoxyParams}{Parameters}
{\em xs} & \doxylink{class_a}{A} struct of type t\+\_\+hit that stores intersections\textquotesingle{} values, if any. \\
\hline
{\em object\+\_\+count} & Stores the information about how many shapes there are in the world. \\
\hline
{\em objects} & \doxylink{class_a}{A} list of objects (or shapes) that exist in the world. They can be a cone, a sphere, a plane or a cylinder. \\
\hline
{\em light\+\_\+count} & Stores the information about how many point lights there are in the world. \\
\hline
{\em lights} & \doxylink{class_a}{A} list of point lights that exist in the world. \\
\hline
{\em ambient} & Represents the ambient color in the world. \\
\hline
\end{DoxyParams}


\doxysubsection{Function Documentation}
\Hypertarget{mini_r_t__example_2include_2world_8h_ab974bbbb3e98ad040051bf4aca65af66}\index{world.h@{world.h}!color\_at@{color\_at}}
\index{color\_at@{color\_at}!world.h@{world.h}}
\doxysubsubsection{\texorpdfstring{color\_at()}{color\_at()}}
{\footnotesize\ttfamily \label{mini_r_t__example_2include_2world_8h_ab974bbbb3e98ad040051bf4aca65af66} 
\mbox{\hyperlink{tuples_8h_a43da74144dd0bc8864f91dfed33bd6bf}{t\+\_\+color}} color\+\_\+at (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{mini_r_t__example_2include_2world_8h_ab408c1e2372d8e7b5ccd0c131ea9ee84}{t\+\_\+world}}}]{world}{, }\item[{\mbox{\hyperlink{rays_8h_a249ca701a99a7da39d83c6270adac2ec}{t\+\_\+ray}}}]{ray}{}\end{DoxyParamCaption})}



Computes the color at the intersection of a given ray with a world. 

Given a world and a ray, this function computes the color of the intersection point between the ray and the shapes in the world. It first uses \doxylink{mini_r_t__example_2include_2world_8h_a9222f5636b32b8430b77b08472fc6588}{intersect\+\_\+world()} to find the intersections between the ray and the shapes in the world. If there are no intersections, the function returns the color black. Otherwise, it selects the intersection that is closest to the ray\textquotesingle{}s origin and precomputes the necessary values for that intersection using \doxylink{mini_r_t__example_2include_2world_8h_a959cca0274181803945cc578f51b5eb2}{prepare\+\_\+computations()}. Finally, the function calls \doxylink{mini_r_t__example_2include_2world_8h_aed1f05fecae5eaee013894b0ba6c310d}{shade\+\_\+hit()} to compute the color at the intersection and returns it.


\begin{DoxyParams}{Parameters}
{\em world} & The world in which the intersection occurred. \\
\hline
{\em ray} & The ray that intersected with the shapes in the world. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns the color of the intersection point, or black if there is no such intersection. 
\end{DoxyReturn}
\Hypertarget{mini_r_t__example_2include_2world_8h_a9222f5636b32b8430b77b08472fc6588}\index{world.h@{world.h}!intersect\_world@{intersect\_world}}
\index{intersect\_world@{intersect\_world}!world.h@{world.h}}
\doxysubsubsection{\texorpdfstring{intersect\_world()}{intersect\_world()}}
{\footnotesize\ttfamily \label{mini_r_t__example_2include_2world_8h_a9222f5636b32b8430b77b08472fc6588} 
\mbox{\hyperlink{mini_r_t__example_2include_2shapes_8h_a5adba0a1600843208f0bd925f29b928d}{t\+\_\+hit}} \texorpdfstring{$\ast$}{*} intersect\+\_\+world (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{mini_r_t__example_2include_2world_8h_ab408c1e2372d8e7b5ccd0c131ea9ee84}{t\+\_\+world}} \texorpdfstring{$\ast$}{*}}]{world}{, }\item[{\mbox{\hyperlink{rays_8h_a249ca701a99a7da39d83c6270adac2ec}{t\+\_\+ray}}}]{ray}{}\end{DoxyParamCaption})}



Finds all intersections between a ray and all objects in the world. 


\begin{DoxyParams}{Parameters}
{\em world} & The world of objects to check for intersections. \\
\hline
{\em ray} & The ray to check for intersections.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns a pointer to the first intersection in the sorted linked list of intersections or NULL if no intersections are found. 
\end{DoxyReturn}
\Hypertarget{mini_r_t__example_2include_2world_8h_a8be566b6f6f02856e9608764b4a77e44}\index{world.h@{world.h}!is\_shadowed@{is\_shadowed}}
\index{is\_shadowed@{is\_shadowed}!world.h@{world.h}}
\doxysubsubsection{\texorpdfstring{is\_shadowed()}{is\_shadowed()}}
{\footnotesize\ttfamily \label{mini_r_t__example_2include_2world_8h_a8be566b6f6f02856e9608764b4a77e44} 
t\+\_\+bool is\+\_\+shadowed (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{mini_r_t__example_2include_2world_8h_ab408c1e2372d8e7b5ccd0c131ea9ee84}{t\+\_\+world}} \texorpdfstring{$\ast$}{*}}]{world}{, }\item[{\mbox{\hyperlink{tuples_8h_a499dd2c8e66cb9e3d0f581a58df46b40}{t\+\_\+point}}}]{point}{, }\item[{int}]{index}{}\end{DoxyParamCaption})}



Determines whether a point in a world is in shadow or not. 

This function works by casting a shadow ray from the given point towards each light source in the world. If the shadow ray intersects any objects in the world before reaching the light source, the point is considered to be in shadow. The function calculates the distance between the light source and the given point using the magnitude of the vector between them, and normalizes the vector to get its direction.


\begin{DoxyParams}{Parameters}
{\em world} & \doxylink{class_a}{A} pointer to a structure of type {\ttfamily t\+\_\+world} representing the world containing objects and light sources. \\
\hline
{\em point} & \doxylink{class_a}{A} structure of type {\ttfamily t\+\_\+tuple} representing the location of the point in the world. \\
\hline
{\em index} & An index representing which point light is being passed to the function. It\textquotesingle{}s possible to have more than one. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns {\ttfamily TRUE} if the point is in shadow. Otherwise, returns {\ttfamily FALSE} if the point is not in shadow. 
\end{DoxyReturn}
\Hypertarget{mini_r_t__example_2include_2world_8h_a959cca0274181803945cc578f51b5eb2}\index{world.h@{world.h}!prepare\_computations@{prepare\_computations}}
\index{prepare\_computations@{prepare\_computations}!world.h@{world.h}}
\doxysubsubsection{\texorpdfstring{prepare\_computations()}{prepare\_computations()}}
{\footnotesize\ttfamily \label{mini_r_t__example_2include_2world_8h_a959cca0274181803945cc578f51b5eb2} 
\mbox{\hyperlink{mini_r_t__example_2include_2world_8h_ad204d3c7e16fe0025d1e160b35771137}{t\+\_\+comps}} prepare\+\_\+computations (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{mini_r_t__example_2include_2shapes_8h_a5adba0a1600843208f0bd925f29b928d}{t\+\_\+hit}} \texorpdfstring{$\ast$}{*}}]{intersection}{, }\item[{\mbox{\hyperlink{rays_8h_a249ca701a99a7da39d83c6270adac2ec}{t\+\_\+ray}}}]{ray}{}\end{DoxyParamCaption})}



Precomputes information related to an intersection. 

Given an intersection between a ray and a shape, this function precomputes the point where the intersection occurred in world space, the eye vector pointing back towards the camera, and the normal vector at the point of intersection. This precomputed information is stored in a new data structure and returned.

If the hit point occurs inside of a shape, the normal vector will be flipped to point to the correct direction.


\begin{DoxyParams}{Parameters}
{\em intersection} & The intersection between the ray and a shape. \\
\hline
{\em ray} & The ray that intersected with the shape. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns a new data structure containing the precomputed information. 
\end{DoxyReturn}
\Hypertarget{mini_r_t__example_2include_2world_8h_aed1f05fecae5eaee013894b0ba6c310d}\index{world.h@{world.h}!shade\_hit@{shade\_hit}}
\index{shade\_hit@{shade\_hit}!world.h@{world.h}}
\doxysubsubsection{\texorpdfstring{shade\_hit()}{shade\_hit()}}
{\footnotesize\ttfamily \label{mini_r_t__example_2include_2world_8h_aed1f05fecae5eaee013894b0ba6c310d} 
\mbox{\hyperlink{tuples_8h_a43da74144dd0bc8864f91dfed33bd6bf}{t\+\_\+color}} shade\+\_\+hit (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{mini_r_t__example_2include_2world_8h_ab408c1e2372d8e7b5ccd0c131ea9ee84}{t\+\_\+world}}}]{world}{, }\item[{\mbox{\hyperlink{mini_r_t__example_2include_2world_8h_ad204d3c7e16fe0025d1e160b35771137}{t\+\_\+comps}}}]{comps}{}\end{DoxyParamCaption})}



Computes the color at an intersection in the given world. 

Given a world and a precomputed information about an intersection between a ray and a shape, this function computes the color of the intersection point. The color is computed by determining the light that hits the intersection and blending that light with the color of the shape at that point. The resulting color is returned.


\begin{DoxyParams}{Parameters}
{\em world} & The world in which the intersection occurred. \\
\hline
{\em comps} & The precomputed information about the intersection. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns the color of the intersection point. 
\end{DoxyReturn}
