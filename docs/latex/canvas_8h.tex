\doxysection{/\+Users/thibault/kdrive/1-\/\+PROJECTS/\+P-\/42/mini\+RT/mini\+RT\+\_\+example/include/canvas.h File Reference}
\hypertarget{canvas_8h}{}\label{canvas_8h}\index{/Users/thibault/kdrive/1-\/PROJECTS/P-\/42/miniRT/miniRT\_example/include/canvas.h@{/Users/thibault/kdrive/1-\/PROJECTS/P-\/42/miniRT/miniRT\_example/include/canvas.h}}
{\ttfamily \#include "{}libft.\+h"{}}\newline
{\ttfamily \#include "{}mlx.\+h"{}}\newline
{\ttfamily \#include "{}camera.\+h"{}}\newline
{\ttfamily \#include "{}world.\+h"{}}\newline
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structs__canvas}{s\+\_\+canvas}}
\begin{DoxyCompactList}\small\item\em The struct of type t\+\_\+canvas contains the necessary fields for graphic initialization and window rendering. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structs__scene}{s\+\_\+scene}}
\begin{DoxyCompactList}\small\item\em The structure t\+\_\+scene is how the user sees the ray tracing rendering. There is a camera from which the world of shapes and point lights are seen. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{canvas_8h_a2cd109632a6dcccaa80b43561b1ab700}\label{canvas_8h_a2cd109632a6dcccaa80b43561b1ab700} 
\#define {\bfseries SCREEN\+\_\+\+WIDTH}~800
\item 
\Hypertarget{canvas_8h_a6974d08a74da681b3957b2fead2608b8}\label{canvas_8h_a6974d08a74da681b3957b2fead2608b8} 
\#define {\bfseries SCREEN\+\_\+\+HEIGHT}~400
\item 
\Hypertarget{canvas_8h_acb1c38f43bed1aa43f8463456946d1cd}\label{canvas_8h_acb1c38f43bed1aa43f8463456946d1cd} 
\#define {\bfseries K\+\_\+\+ESCAPE}~0xff1b
\item 
\Hypertarget{canvas_8h_a2371e15482e075dbd88383244f20dd17}\label{canvas_8h_a2371e15482e075dbd88383244f20dd17} 
\#define {\bfseries K\+\_\+Q}~0x0071
\item 
\Hypertarget{canvas_8h_a836cd52ead09ddc6427fe01c0eb29434}\label{canvas_8h_a836cd52ead09ddc6427fe01c0eb29434} 
\#define {\bfseries DESTROYNOTIFY}~17
\item 
\Hypertarget{canvas_8h_a8f879b18981b9e3562a3aa1b9646794d}\label{canvas_8h_a8f879b18981b9e3562a3aa1b9646794d} 
\#define {\bfseries NOEVENTMASK}~0L
\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{structs__canvas}{s\+\_\+canvas}} \mbox{\hyperlink{canvas_8h_a5ffb71537091331ccc5405513a48a2ef}{t\+\_\+canvas}}
\begin{DoxyCompactList}\small\item\em The struct of type t\+\_\+canvas contains the necessary fields for graphic initialization and window rendering. \end{DoxyCompactList}\item 
typedef struct \mbox{\hyperlink{structs__scene}{s\+\_\+scene}} \mbox{\hyperlink{canvas_8h_a82a03b320e25492edcc920f31af81f83}{t\+\_\+scene}}
\begin{DoxyCompactList}\small\item\em The structure t\+\_\+scene is how the user sees the ray tracing rendering. There is a camera from which the world of shapes and point lights are seen. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{canvas_8h_a683440d93a1497796157f17921429d8e}{init\+\_\+mlx\+\_\+connection}} (\mbox{\hyperlink{canvas_8h_a5ffb71537091331ccc5405513a48a2ef}{t\+\_\+canvas}} \texorpdfstring{$\ast$}{*}canvas)
\begin{DoxyCompactList}\small\item\em This function attempts to start a connection with Xserver using MLX library. \end{DoxyCompactList}\item 
t\+\_\+bool \mbox{\hyperlink{canvas_8h_aa1707d20d4ec03a4a32ba12822e520b1}{new\+\_\+canvas}} (\mbox{\hyperlink{canvas_8h_a5ffb71537091331ccc5405513a48a2ef}{t\+\_\+canvas}} \texorpdfstring{$\ast$}{*}canvas, int width, int height)
\begin{DoxyCompactList}\small\item\em This function attempts to start a connection with Xserver using MLX library. After that, an attempt to create a new image on screen with the new mlx\+\_\+ptr, width and height is done. Lastly, the function tries to write information on the new image with a given bits per pixel, line length and endianess. \end{DoxyCompactList}\item 
t\+\_\+bool \mbox{\hyperlink{canvas_8h_a1252252ceab90ea60834a4891624d90a}{put\+\_\+on\+\_\+window}} (\mbox{\hyperlink{canvas_8h_a5ffb71537091331ccc5405513a48a2ef}{t\+\_\+canvas}} \texorpdfstring{$\ast$}{*}canvas, char \texorpdfstring{$\ast$}{*}title)
\begin{DoxyCompactList}\small\item\em The function tries to create a new window on screen with the established Xserver connection, width, height and window\textquotesingle{}s title passed as parameter. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{canvas_8h_a731f80f9807c1cca7291fb558359c2a8}{show\+\_\+window}} (\mbox{\hyperlink{canvas_8h_a5ffb71537091331ccc5405513a48a2ef}{t\+\_\+canvas}} \texorpdfstring{$\ast$}{*}canvas)
\begin{DoxyCompactList}\small\item\em This function inserts an image to window. To do that, it needs from the parameter canvas a pointer to an existing Xserver connection, a pointer an existing window, a pointer to an existing image and the x and y screen position. The default for x and y is 0. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{canvas_8h_a5dad417e5c6ac3237e79387158f5425f}{handle\+\_\+keypress}} (int keysym, \mbox{\hyperlink{canvas_8h_a5ffb71537091331ccc5405513a48a2ef}{t\+\_\+canvas}} \texorpdfstring{$\ast$}{*}canvas)
\begin{DoxyCompactList}\small\item\em This function is to be used as the second parameter of the MLX library function mlx\+\_\+key\+\_\+hook(), which waits for an user event. If the user presses ESC or Q\textquotesingle{}s key, the program is cleanly terminated with \doxylink{canvas_8h_a347e1584578b3d2244efe4314f3c5abe}{quit()}. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{canvas_8h_a347e1584578b3d2244efe4314f3c5abe}{quit}} (\mbox{\hyperlink{canvas_8h_a5ffb71537091331ccc5405513a48a2ef}{t\+\_\+canvas}} \texorpdfstring{$\ast$}{*}canvas)
\begin{DoxyCompactList}\small\item\em \doxylink{canvas_8h_a347e1584578b3d2244efe4314f3c5abe}{quit()} frees every data regarding graphic initialization and window rendering. It destroys the created image and window as well as the pointer to an established Xserver\textquotesingle{}s connection, whose variable must be freed thereafter. \end{DoxyCompactList}\item 
t\+\_\+bool \mbox{\hyperlink{canvas_8h_ac96b650ae08f7d476989b660090336ff}{render}} (\mbox{\hyperlink{canvas_8h_a82a03b320e25492edcc920f31af81f83}{t\+\_\+scene}} \texorpdfstring{$\ast$}{*}scene, \mbox{\hyperlink{canvas_8h_a5ffb71537091331ccc5405513a48a2ef}{t\+\_\+canvas}} \texorpdfstring{$\ast$}{*}canvas)
\begin{DoxyCompactList}\small\item\em This functions renders a scene of ray casting objects. It attempts to initialize a connection to the graphic library MLX, if successfilly, it proceeds to write pixel by pixel to a image that will be rendered and seen by the user though a MLX\textquotesingle{}s windows. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{canvas_8h_af5ade55a76a0293eb291955228136f58}{write\+\_\+pixel}} (const \mbox{\hyperlink{canvas_8h_a5ffb71537091331ccc5405513a48a2ef}{t\+\_\+canvas}} \texorpdfstring{$\ast$}{*}canvas, int x, int y, int color)
\begin{DoxyCompactList}\small\item\em The function \doxylink{canvas_8h_af5ade55a76a0293eb291955228136f58}{write\+\_\+pixel()} writes a pixel at (x, y) coordinates of the image, if a given coordinate is within canvas width and height. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Typedef Documentation}
\Hypertarget{canvas_8h_a5ffb71537091331ccc5405513a48a2ef}\index{canvas.h@{canvas.h}!t\_canvas@{t\_canvas}}
\index{t\_canvas@{t\_canvas}!canvas.h@{canvas.h}}
\doxysubsubsection{\texorpdfstring{t\_canvas}{t\_canvas}}
{\footnotesize\ttfamily \label{canvas_8h_a5ffb71537091331ccc5405513a48a2ef} 
typedef struct \mbox{\hyperlink{structs__canvas}{s\+\_\+canvas}} \mbox{\hyperlink{canvas_8h_a5ffb71537091331ccc5405513a48a2ef}{t\+\_\+canvas}}}



The struct of type t\+\_\+canvas contains the necessary fields for graphic initialization and window rendering. 

ABOUT THE HEADER \doxylink{canvas_8h}{CANVAS.\+H}

This header contains all functions that works directly or indirectly with graphic information and MLX\textquotesingle{}s library manipulation. 


\begin{DoxyParams}{Parameters}
{\em mlx\+\_\+ptr} & Contains the pointer to a connection with the Xserver. \\
\hline
{\em win\+\_\+ptr} & Contains the pointer to a window created with MLX. \\
\hline
{\em img\+\_\+ptr} & Contains the pointer to a image created with MLX. \\
\hline
{\em addr} & Stores information about how to write data on pixels from an instance of a MLX\textquotesingle{}s windows and image. \\
\hline
{\em bpp} & Contains the bits per pixel value from MLX. \\
\hline
{\em line\+\_\+len} & Contains the line length value from MLX. \\
\hline
{\em endian} & Stores the most significant endianess order from MLX. \\
\hline
{\em width} & Stores the width of the window and the image created with MLX. \\
\hline
{\em height} & Stores the height of the window and the image created with MLX. \\
\hline
\end{DoxyParams}
\Hypertarget{canvas_8h_a82a03b320e25492edcc920f31af81f83}\index{canvas.h@{canvas.h}!t\_scene@{t\_scene}}
\index{t\_scene@{t\_scene}!canvas.h@{canvas.h}}
\doxysubsubsection{\texorpdfstring{t\_scene}{t\_scene}}
{\footnotesize\ttfamily \label{canvas_8h_a82a03b320e25492edcc920f31af81f83} 
typedef struct \mbox{\hyperlink{structs__scene}{s\+\_\+scene}} \mbox{\hyperlink{canvas_8h_a82a03b320e25492edcc920f31af81f83}{t\+\_\+scene}}}



The structure t\+\_\+scene is how the user sees the ray tracing rendering. There is a camera from which the world of shapes and point lights are seen. 


\begin{DoxyParams}{Parameters}
{\em world} & Stores the world objects to be displayed. \\
\hline
{\em camera} & Stores the information about the point of view from which the world is observed. \\
\hline
\end{DoxyParams}


\doxysubsection{Function Documentation}
\Hypertarget{canvas_8h_a5dad417e5c6ac3237e79387158f5425f}\index{canvas.h@{canvas.h}!handle\_keypress@{handle\_keypress}}
\index{handle\_keypress@{handle\_keypress}!canvas.h@{canvas.h}}
\doxysubsubsection{\texorpdfstring{handle\_keypress()}{handle\_keypress()}}
{\footnotesize\ttfamily \label{canvas_8h_a5dad417e5c6ac3237e79387158f5425f} 
int handle\+\_\+keypress (\begin{DoxyParamCaption}\item[{int}]{keysym}{, }\item[{\mbox{\hyperlink{canvas_8h_a5ffb71537091331ccc5405513a48a2ef}{t\+\_\+canvas}} \texorpdfstring{$\ast$}{*}}]{canvas}{}\end{DoxyParamCaption})}



This function is to be used as the second parameter of the MLX library function mlx\+\_\+key\+\_\+hook(), which waits for an user event. If the user presses ESC or Q\textquotesingle{}s key, the program is cleanly terminated with \doxylink{canvas_8h_a347e1584578b3d2244efe4314f3c5abe}{quit()}. 


\begin{DoxyParams}{Parameters}
{\em keysym} & Stores the ID of the key pressed by the user. To see all possible values of keysym, refer to the header X11/keysymdef.\+h. \\
\hline
{\em canvas} & \doxylink{class_a}{A} struct of type t\+\_\+canvas containing the necessary fields for graphic initialization and window rendering. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
If the keysym passed as parameter is equal to ESC or Q\textquotesingle{}s key, the program successfully exits. Otherwise, the function cleanly exits with status 0, i.\+e., EXIT\+\_\+\+SUCCESS identifier. 
\end{DoxyReturn}
\Hypertarget{canvas_8h_a683440d93a1497796157f17921429d8e}\index{canvas.h@{canvas.h}!init\_mlx\_connection@{init\_mlx\_connection}}
\index{init\_mlx\_connection@{init\_mlx\_connection}!canvas.h@{canvas.h}}
\doxysubsubsection{\texorpdfstring{init\_mlx\_connection()}{init\_mlx\_connection()}}
{\footnotesize\ttfamily \label{canvas_8h_a683440d93a1497796157f17921429d8e} 
void init\+\_\+mlx\+\_\+connection (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{canvas_8h_a5ffb71537091331ccc5405513a48a2ef}{t\+\_\+canvas}} \texorpdfstring{$\ast$}{*}}]{canvas}{}\end{DoxyParamCaption})}



This function attempts to start a connection with Xserver using MLX library. 


\begin{DoxyParams}{Parameters}
{\em canvas} & \doxylink{class_a}{A} struct of type t\+\_\+canvas containing the necessary fields for graphic initialization and window rendering. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
If connection with Xserver is established succesfully, the function returns nothing. Otherwise, it prints a message to stderr and exits the program. 
\end{DoxyReturn}
\Hypertarget{canvas_8h_aa1707d20d4ec03a4a32ba12822e520b1}\index{canvas.h@{canvas.h}!new\_canvas@{new\_canvas}}
\index{new\_canvas@{new\_canvas}!canvas.h@{canvas.h}}
\doxysubsubsection{\texorpdfstring{new\_canvas()}{new\_canvas()}}
{\footnotesize\ttfamily \label{canvas_8h_aa1707d20d4ec03a4a32ba12822e520b1} 
t\+\_\+bool new\+\_\+canvas (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{canvas_8h_a5ffb71537091331ccc5405513a48a2ef}{t\+\_\+canvas}} \texorpdfstring{$\ast$}{*}}]{canvas}{, }\item[{int}]{width}{, }\item[{int}]{height}{}\end{DoxyParamCaption})}



This function attempts to start a connection with Xserver using MLX library. After that, an attempt to create a new image on screen with the new mlx\+\_\+ptr, width and height is done. Lastly, the function tries to write information on the new image with a given bits per pixel, line length and endianess. 


\begin{DoxyParams}{Parameters}
{\em canvas} & \doxylink{class_a}{A} struct of type t\+\_\+canvas containing the necessary fields for graphic initialization and window rendering. \\
\hline
{\em width} & The desired width of the window to be created. \\
\hline
{\em height} & The desired height of the window to be created. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
If the function successfully establishes a Xserver connection, create a new image on screen and write information on it, the function returns TRUE. Otherwise, if one of the aforementioned steps fail, the function returns FALSE. 
\end{DoxyReturn}
\Hypertarget{canvas_8h_a1252252ceab90ea60834a4891624d90a}\index{canvas.h@{canvas.h}!put\_on\_window@{put\_on\_window}}
\index{put\_on\_window@{put\_on\_window}!canvas.h@{canvas.h}}
\doxysubsubsection{\texorpdfstring{put\_on\_window()}{put\_on\_window()}}
{\footnotesize\ttfamily \label{canvas_8h_a1252252ceab90ea60834a4891624d90a} 
t\+\_\+bool put\+\_\+on\+\_\+window (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{canvas_8h_a5ffb71537091331ccc5405513a48a2ef}{t\+\_\+canvas}} \texorpdfstring{$\ast$}{*}}]{canvas}{, }\item[{char \texorpdfstring{$\ast$}{*}}]{title}{}\end{DoxyParamCaption})}



The function tries to create a new window on screen with the established Xserver connection, width, height and window\textquotesingle{}s title passed as parameter. 


\begin{DoxyParams}{Parameters}
{\em canvas} & \doxylink{class_a}{A} struct of type t\+\_\+canvas containing the necessary fields for graphic initialization and window rendering. \\
\hline
{\em title} & The desired title to describe the window to be created. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns TRUE if new window is created succesfully. Otherwise, it returns FALSE. 
\end{DoxyReturn}
\Hypertarget{canvas_8h_a347e1584578b3d2244efe4314f3c5abe}\index{canvas.h@{canvas.h}!quit@{quit}}
\index{quit@{quit}!canvas.h@{canvas.h}}
\doxysubsubsection{\texorpdfstring{quit()}{quit()}}
{\footnotesize\ttfamily \label{canvas_8h_a347e1584578b3d2244efe4314f3c5abe} 
int quit (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{canvas_8h_a5ffb71537091331ccc5405513a48a2ef}{t\+\_\+canvas}} \texorpdfstring{$\ast$}{*}}]{canvas}{}\end{DoxyParamCaption})}



\doxylink{canvas_8h_a347e1584578b3d2244efe4314f3c5abe}{quit()} frees every data regarding graphic initialization and window rendering. It destroys the created image and window as well as the pointer to an established Xserver\textquotesingle{}s connection, whose variable must be freed thereafter. 


\begin{DoxyParams}{Parameters}
{\em canvas} & \doxylink{class_a}{A} struct of type t\+\_\+canvas containing the necessary fields for graphic initialization and window rendering. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
After free routine, the function successfully exits with status 0, i.\+e., EXIT\+\_\+\+SUCCESS identifier. 
\end{DoxyReturn}
\Hypertarget{canvas_8h_ac96b650ae08f7d476989b660090336ff}\index{canvas.h@{canvas.h}!render@{render}}
\index{render@{render}!canvas.h@{canvas.h}}
\doxysubsubsection{\texorpdfstring{render()}{render()}}
{\footnotesize\ttfamily \label{canvas_8h_ac96b650ae08f7d476989b660090336ff} 
t\+\_\+bool render (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{canvas_8h_a82a03b320e25492edcc920f31af81f83}{t\+\_\+scene}} \texorpdfstring{$\ast$}{*}}]{scene}{, }\item[{\mbox{\hyperlink{canvas_8h_a5ffb71537091331ccc5405513a48a2ef}{t\+\_\+canvas}} \texorpdfstring{$\ast$}{*}}]{canvas}{}\end{DoxyParamCaption})}



This functions renders a scene of ray casting objects. It attempts to initialize a connection to the graphic library MLX, if successfilly, it proceeds to write pixel by pixel to a image that will be rendered and seen by the user though a MLX\textquotesingle{}s windows. 


\begin{DoxyParams}{Parameters}
{\em scene} & \doxylink{class_a}{A} struct of type t\+\_\+scene that stores information about the how the world will be seen and which objects of a given world will be observed. \\
\hline
{\em canvas} & \doxylink{class_a}{A} struct of type t\+\_\+canvas containing the necessary fields for graphic initialization and window rendering. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns TRUE if a scene is rendered successfully. Otherwise, if the canvas cannot be created, it returns FALSE. 
\end{DoxyReturn}
\Hypertarget{canvas_8h_a731f80f9807c1cca7291fb558359c2a8}\index{canvas.h@{canvas.h}!show\_window@{show\_window}}
\index{show\_window@{show\_window}!canvas.h@{canvas.h}}
\doxysubsubsection{\texorpdfstring{show\_window()}{show\_window()}}
{\footnotesize\ttfamily \label{canvas_8h_a731f80f9807c1cca7291fb558359c2a8} 
int show\+\_\+window (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{canvas_8h_a5ffb71537091331ccc5405513a48a2ef}{t\+\_\+canvas}} \texorpdfstring{$\ast$}{*}}]{canvas}{}\end{DoxyParamCaption})}



This function inserts an image to window. To do that, it needs from the parameter canvas a pointer to an existing Xserver connection, a pointer an existing window, a pointer to an existing image and the x and y screen position. The default for x and y is 0. 


\begin{DoxyParams}{Parameters}
{\em canvas} & \doxylink{class_a}{A} struct of type t\+\_\+canvas containing the necessary fields for graphic initialization and window rendering. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The function successfully exits after image is inserted to window. 
\end{DoxyReturn}
\Hypertarget{canvas_8h_af5ade55a76a0293eb291955228136f58}\index{canvas.h@{canvas.h}!write\_pixel@{write\_pixel}}
\index{write\_pixel@{write\_pixel}!canvas.h@{canvas.h}}
\doxysubsubsection{\texorpdfstring{write\_pixel()}{write\_pixel()}}
{\footnotesize\ttfamily \label{canvas_8h_af5ade55a76a0293eb291955228136f58} 
void write\+\_\+pixel (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{canvas_8h_a5ffb71537091331ccc5405513a48a2ef}{t\+\_\+canvas}} \texorpdfstring{$\ast$}{*}}]{canvas}{, }\item[{int}]{x}{, }\item[{int}]{y}{, }\item[{int}]{color}{}\end{DoxyParamCaption})}



The function \doxylink{canvas_8h_af5ade55a76a0293eb291955228136f58}{write\+\_\+pixel()} writes a pixel at (x, y) coordinates of the image, if a given coordinate is within canvas width and height. 


\begin{DoxyParams}{Parameters}
{\em canvas} & \doxylink{class_a}{A} struct of type t\+\_\+canvas containing the necessary fields for graphic initialization and window rendering. \\
\hline
{\em x} & The x value of the pixel to be inserted. \\
\hline
{\em y} & The y value of the pixel to be inserted. \\
\hline
{\em color} & Stores the color of the pixel. \\
\hline
\end{DoxyParams}
