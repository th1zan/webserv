\chapter{ci-\/and-\/misc}
\hypertarget{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47}{}\label{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47}\index{ci-\/and-\/misc@{ci-\/and-\/misc}}
\label{_top}%
 \hypertarget{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md162}{}\doxysection{\texorpdfstring{CI and other odd pieces}{CI and other odd pieces}}\label{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md162}
{\bfseries{Contents}}~\newline
 Continuous Integration systems~\newline
 Other reporters~\newline
 Low-\/level tools~\newline
 CMake~\newline


This page talks about how Catch integrates with Continuous Integration Build Systems may refer to low-\/level tools, like CMake, or larger systems that run on servers, like Jenkins or Team\+City. This page will talk about both.\hypertarget{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md163}{}\doxysubsection{\texorpdfstring{Continuous Integration systems}{Continuous Integration systems}}\label{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md163}
Probably the most important aspect to using Catch with a build server is the use of different reporters. Catch comes bundled with three reporters that should cover the majority of build servers out there -\/ although adding more for better integration with some is always a possibility (currently we also offer Team\+City, TAP, Automake and Sonar\+Qube reporters).

Two of these reporters are built in (XML and JUnit) and the third (Team\+City) is included as a separate header. It\textquotesingle{}s possible that the other two may be split out in the future too -\/ as that would make the core of Catch smaller for those that don\textquotesingle{}t need them.\hypertarget{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md164}{}\doxysubsubsection{\texorpdfstring{XML Reporter}{XML Reporter}}\label{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md164}

\begin{DoxyCode}{0}
\DoxyCodeLine{-\/r\ xml}

\end{DoxyCode}


The XML Reporter writes in an XML format that is specific to Catch.

The advantage of this format is that it corresponds well to the way Catch works (especially the more unusual features, such as nested sections) and is a fully streaming format -\/ that is it writes output as it goes, without having to store up all its results before it can start writing.

The disadvantage is that, being specific to Catch, no existing build servers understand the format natively. It can be used as input to an XSLT transformation that could convert it to, say, HTML -\/ although this loses the streaming advantage, of course.\hypertarget{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md165}{}\doxysubsubsection{\texorpdfstring{JUnit Reporter}{JUnit Reporter}}\label{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md165}

\begin{DoxyCode}{0}
\DoxyCodeLine{-\/r\ junit}

\end{DoxyCode}


The JUnit Reporter writes in an XML format that mimics the JUnit ANT schema.

The advantage of this format is that the JUnit Ant schema is widely understood by most build servers and so can usually be consumed with no additional work.

The disadvantage is that this schema was designed to correspond to how JUnit works -\/ and there is a significant mismatch with how Catch works. Additionally the format is not streamable (because opening elements hold counts of failed and passing tests as attributes) -\/ so the whole test run must complete before it can be written.\hypertarget{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md166}{}\doxysubsection{\texorpdfstring{Other reporters}{Other reporters}}\label{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md166}
Other reporters are not part of the single-\/header distribution and need to be downloaded and included separately. All reporters are stored in {\ttfamily single\+\_\+include} directory in the git repository, and are named {\ttfamily catch\+\_\+reporter\+\_\+\texorpdfstring{$\ast$}{*}.hpp}. For example, to use the Team\+City reporter you need to download {\ttfamily single\+\_\+include/catch\+\_\+reporter\+\_\+teamcity.\+hpp} and include it after Catch itself.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#define\ CATCH\_CONFIG\_MAIN}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ "{}catch.hpp"{}}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ "{}catch\_reporter\_teamcity.hpp"{}}}

\end{DoxyCode}
\hypertarget{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md167}{}\doxysubsubsection{\texorpdfstring{Team\+City Reporter}{Team\+City Reporter}}\label{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md167}

\begin{DoxyCode}{0}
\DoxyCodeLine{-\/r\ teamcity}

\end{DoxyCode}


The Team\+City Reporter writes Team\+City service messages to stdout. In order to be able to use this reporter an additional header must also be included.

Being specific to Team\+City this is the best reporter to use with it -\/ but it is completely unsuitable for any other purpose. It is a streaming format (it writes as it goes) -\/ although test results don\textquotesingle{}t appear in the Team\+City interface until the completion of a suite (usually the whole test run).\hypertarget{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md168}{}\doxysubsubsection{\texorpdfstring{Automake Reporter}{Automake Reporter}}\label{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md168}

\begin{DoxyCode}{0}
\DoxyCodeLine{-\/r\ automake}

\end{DoxyCode}


The Automake Reporter writes out the \href{https://www.gnu.org/software/automake/manual/html_node/Log-files-generation-and-test-results-recording.html\#Log-files-generation-and-test-results-recording}{\texttt{ meta tags}} expected by automake via {\ttfamily make check}.\hypertarget{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md169}{}\doxysubsubsection{\texorpdfstring{TAP (Test Anything Protocol) Reporter}{TAP (Test Anything Protocol) Reporter}}\label{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md169}

\begin{DoxyCode}{0}
\DoxyCodeLine{-\/r\ tap}

\end{DoxyCode}


Because of the incremental nature of Catch\textquotesingle{}s test suites and ability to run specific tests, our implementation of TAP reporter writes out the number of tests in a suite last.\hypertarget{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md170}{}\doxysubsubsection{\texorpdfstring{Sonar\+Qube Reporter}{Sonar\+Qube Reporter}}\label{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md170}

\begin{DoxyCode}{0}
\DoxyCodeLine{-\/r\ sonarqube}

\end{DoxyCode}
 \href{https://docs.sonarqube.org/latest/analysis/generic-test/}{\texttt{ Sonar\+Qube Generic Test Data}} XML format for tests metrics.\hypertarget{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md171}{}\doxysubsection{\texorpdfstring{Low-\/level tools}{Low-\/level tools}}\label{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md171}
\hypertarget{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md172}{}\doxysubsubsection{\texorpdfstring{Precompiled headers (PCHs)}{Precompiled headers (PCHs)}}\label{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md172}
Catch offers prototypal support for being included in precompiled headers, but because of its single-\/header nature it does need some actions by the user\+:
\begin{DoxyItemize}
\item The precompiled header needs to define {\ttfamily CATCH\+\_\+\+CONFIG\+\_\+\+ALL\+\_\+\+PARTS}
\item The implementation file needs to
\begin{DoxyItemize}
\item undefine {\ttfamily TWOBLUECUBES\+\_\+\+SINGLE\+\_\+\+INCLUDE\+\_\+\+CATCH\+\_\+\+HPP\+\_\+\+INCLUDED}
\item define {\ttfamily CATCH\+\_\+\+CONFIG\+\_\+\+IMPL\+\_\+\+ONLY}
\item define {\ttfamily CATCH\+\_\+\+CONFIG\+\_\+\+MAIN} or {\ttfamily CATCH\+\_\+\+CONFIG\+\_\+\+RUNNER}
\item include "{}catch.\+hpp"{} again
\end{DoxyItemize}
\end{DoxyItemize}\hypertarget{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md173}{}\doxysubsubsection{\texorpdfstring{Code\+Coverage module (GCOV, LCOV...)}{Code\+Coverage module (GCOV, LCOV...)}}\label{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md173}
If you are using GCOV tool to get testing coverage of your code, and are not sure how to integrate it with CMake and Catch, there should be an external example over at \href{https://github.com/fkromer/catch_cmake_coverage}{\texttt{ https\+://github.\+com/fkromer/catch\+\_\+cmake\+\_\+coverage}}\hypertarget{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md174}{}\doxysubsubsection{\texorpdfstring{pkg-\/config}{pkg-\/config}}\label{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md174}
Catch2 provides a rudimentary pkg-\/config integration, by registering itself under the name {\ttfamily catch2}. This means that after Catch2 is installed, you can use {\ttfamily pkg-\/config} to get its include path\+: {\ttfamily pkg-\/config -\/-\/cflags catch2}.\hypertarget{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md175}{}\doxysubsubsection{\texorpdfstring{gdb and lldb scripts}{gdb and lldb scripts}}\label{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md175}
Catch2\textquotesingle{}s {\ttfamily contrib} folder also contains two simple debugger scripts, {\ttfamily gdbinit} for {\ttfamily gdb} and {\ttfamily lldbinit} for {\ttfamily lldb}. If loaded into their respective debugger, these will tell it to step over Catch2\textquotesingle{}s internals when stepping through code.\hypertarget{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md176}{}\doxysubsection{\texorpdfstring{CMake}{CMake}}\label{md__2_users_2thibault_2kdrive_21-_p_r_o_j_e_c_t_s_2_p-42_2push__swap_2push__swap__visualizer_2bu583f0a1a6056ac998bead01da0980d47_autotoc_md176}
\href{cmake-integration.md\#top}{\texttt{ As it has been getting kinda long, the documentation of Catch2\textquotesingle{}s integration with CMake has been moved to its own page.}}

\DoxyHorRuler{0}


\href{Readme.md\#top}{\texttt{ Home}} 